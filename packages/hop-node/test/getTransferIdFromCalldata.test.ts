import getTransferIdFromCalldata from '#utils/getTransferIdFromCalldata.js'

describe('getTransferIdFromCalldata', () => {
  it('getTransferIdFromCalldata - bondWithdrawalAndDistribute', () => {
    // https://blockscout.com/xdai/mainnet/tx/0x677924dca745cb2b3d5e4b9ed06998171b180f92bf5ef75801ba737b4ec06142
    // bondWithdrawalAndDistribute(address,uint256,bytes32,uint256,uint256,uint256)
    const data = '0x3d12a85a0000000000000000000000009e89eac1f28ac6a0e5fedade151b60a16e0c1a62000000000000000000000000000000000000000000000000000000000010d9e49dbd5b8db3a626f9d4c1c0da331dad22e51c17c4ba475a5cd9db706814d8551000000000000000000000000000000000000000000000000000000000000f24990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006172f313'
    const destinationChainId = 100
    expect(getTransferIdFromCalldata(data, destinationChainId)).toBe('0x35b073ae20649aaecf66d898c6af46dac818ed880c7177c4cf24845b00cab845')
  })
  it('getTransferIdFromCalldata - bondWithdrawal', () => {
    // https://etherscan.io/tx/0x167310ffc348d2728a7b6c0cdd90c078a47564304f2391e637a6c60ae39d107d
    const data = '0x23c452cd0000000000000000000000005ce35364badea5bb81c44644d6262641885f0a010000000000000000000000000000000000000000000000000000000035b30fda681606e415a05a5129fe4223013bc8b8953785fb2070d9e92bbab1f7bfb5e780000000000000000000000000000000000000000000000000000000000a4a08fb'
    const destinationChainId = 1
    expect(getTransferIdFromCalldata(data, destinationChainId)).toBe('0xae921eed7ae3b7004f96f6ddf13ad6b3d20a30a78afa64e8876b23013a650253')
  })
})
